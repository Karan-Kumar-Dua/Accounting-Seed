<template>

    <lightning-quick-action-panel header={labelFactory.APPLY_PAYMENT_SERVICE}>
        
            <lightning-record-edit-form lwc:ref="record_edit_form" record-id={recordId}
                object-api-name={ledgerFields.objectApiName} onsubmit={handleSubmit} 
                onsuccess={handleSuccess} onload={handleLoad} onerror={handleErrors}>
                
                <template if:false={errorForTransactionalLedger}>
                    <c-accounting-seed-info-box lwc:spread={properties}></c-accounting-seed-info-box>
                    <lightning-spinner if:true={isSpinner} variant="brand" alternative-text={labelFactory.commonLoadingText} size="medium">
                    </lightning-spinner>

                    <lightning-input-field class="paymentEmail" lwc:ref="paymentEmail"
                        field-name={ledgerFields.paymentNotificationField.fieldApiName} autocomplete="false" required>
                    </lightning-input-field>

                </template>
                <template if:true={errorForTransactionalLedger}>
                    <c-accounting-seed-info-box lwc:spread={properties}></c-accounting-seed-info-box>
                </template>
                <div class="buttons slds-text-align_right">
                    <lightning-button variant="brand" class="slds-m-left_xx-small" label={labelFactory.commonApply}
                        type="submit" disabled={disableSubmit}></lightning-button>
                    <lightning-button variant="neutral" class="slds-m-left_x-small" label={labelFactory.commonCancel}
                        onclick={handleCancel}></lightning-button>
                </div>

            </lightning-record-edit-form>

    </lightning-quick-action-panel>

</template>